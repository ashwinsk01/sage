<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>An Ode to Sage Green</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div class="leaf-pattern"></div>
        <div class="container">
            <div class="header">
                <div class="header-content">
                    <h1>Oxford Journey</h1>
                    <p class="subtitle">
                        A carefully crafted day of discovery, where each moment
                        unfolds like pages of a story we'll write together.
                        Through historic streets and hidden corners, we'll
                        create memories that will linger long after the day
                        ends.
                    </p>

                    <div class="main-countdown">
                        <div class="main-countdown-title">
                            Time Until We Begin
                        </div>
                        <div class="main-countdown-time" id="mainCountdown">
                            Loading...
                        </div>
                    </div>

                    <div class="playlist-container">
                        <h3 class="playlist-title">For the vibes</h3>
                        <div class="spotify-embed">
                            <iframe
                                style="border-radius: 12px"
                                src="https://open.spotify.com/embed/playlist/75ImSkKy7Yt8MSDSa0fHaZ?utm_source=generator"
                                width="100%"
                                height="152"
                                frameborder="0"
                                allowfullscreen=""
                                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                                loading="lazy"
                            ></iframe>
                        </div>
                    </div>
                </div>

                <div class="credits">
                    Built for you
                    <div class="flower-animation">
                        <div class="flower"></div>
                        <div
                            class="flower"
                            style="left: 20%; animation-delay: 2s"
                        ></div>
                        <div
                            class="flower"
                            style="left: 40%; animation-delay: 4s"
                        ></div>
                        <div
                            class="flower"
                            style="left: 60%; animation-delay: 1s"
                        ></div>
                        <div
                            class="flower"
                            style="left: 80%; animation-delay: 3s"
                        ></div>
                    </div>
                </div>
            </div>

            <div class="cards-container">
                <div class="location-card" id="location1">
                    <div class="card-content">
                        <div class="icon-circle">
                            <i class="fas fa-hiking"></i>
                        </div>
                        <h2>Walking Around Oxford</h2>
                        <div class="time">
                            <i class="far fa-clock"></i>
                            14:00
                        </div>
                        <div class="location-content">
                            Exploring the historic streets of Oxford together.
                            Taking in the stunning architecture of the colleges,
                            walking through the charming cobblestone streets,
                            and perhaps finding a cozy spot to watch the world
                            go by. Maybe we'll discover some hidden courtyards
                            or stumble upon a secret garden.
                        </div>
                    </div>
                </div>

                <div class="location-card" id="location2">
                    <div class="card-content">
                        <div class="icon-circle">
                            <i class="fas fa-train"></i>
                        </div>
                        <h2 class="placeholder-title">
                            Someplace to Someplace
                        </h2>
                        <h2 class="real-title" style="display: none">
                            Journey to Woodstock
                        </h2>
                        <div class="time">
                            <i class="far fa-clock"></i>
                            15:00
                        </div>
                        <div class="countdown" id="countdown2">
                            <i class="fas fa-hourglass-half"></i>
                            Loading countdown...
                        </div>
                        <div class="location-content placeholder-content">
                            A journey from one place to another, through paths
                            yet unknown. The destination remains a mystery, but
                            the journey promises to be interesting.
                        </div>
                        <div
                            class="location-content real-content"
                            style="display: none"
                        >
                            A scenic journey through the Oxfordshire
                            countryside, watching the landscape change as we
                            make our way to the historic town of Woodstock. The
                            anticipation builds as we travel through picturesque
                            villages and rolling hills.
                        </div>
                        <div class="locked-message">
                            <i class="fas fa-lock"></i>
                            This location will unlock at the scheduled time.
                        </div>
                    </div>
                </div>

                <div class="location-card" id="location3">
                    <div class="card-content">
                        <div class="icon-circle">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <h2 class="placeholder-title">Consumption of Things</h2>
                        <h2 class="real-title" style="display: none">
                            The Killingworth Castle
                        </h2>
                        <div class="time">
                            <i class="far fa-clock"></i>
                            15:00
                        </div>
                        <div class="countdown" id="countdown3">
                            <i class="fas fa-hourglass-half"></i>
                            Loading countdown...
                        </div>
                        <div class="location-content placeholder-content">
                            A place where sustenance meets mystery. What will be
                            consumed remains to be seen, but the experience
                            promises to be memorable.
                        </div>
                        <div
                            class="location-content real-content"
                            style="display: none"
                        >
                            Dinner at this historic gastropub, known for its
                            charming atmosphere and exceptional cuisine. A
                            perfect setting for good food and even better
                            conversation, surrounded by centuries of history and
                            warm, inviting ambiance.
                        </div>
                        <div class="locked-message">
                            <i class="fas fa-lock"></i>
                            This location will unlock at the scheduled time.
                        </div>
                    </div>
                </div>

                <div class="location-card" id="location4">
                    <div class="card-content">
                        <div class="icon-circle">
                            <i class="fas fa-train"></i>
                        </div>
                        <h2 class="placeholder-title">Back from Someplace</h2>
                        <h2 class="real-title" style="display: none">
                            Return Journey
                        </h2>
                        <div class="time">
                            <i class="far fa-clock"></i>
                            15:00
                        </div>
                        <div class="countdown" id="countdown4">
                            <i class="fas fa-hourglass-half"></i>
                            Loading countdown...
                        </div>
                        <div class="location-content placeholder-content">
                            The return leg of our journey, from wherever we may
                            be. The path back holds its own mysteries and
                            moments to discover.
                        </div>
                        <div
                            class="location-content real-content"
                            style="display: none"
                        >
                            Making our way back through the evening light,
                            perhaps sharing thoughts about the day's adventures
                            and making plans for future explorations. The
                            perfect time to reflect on the memories we've
                            created.
                        </div>
                        <div class="locked-message">
                            <i class="fas fa-lock"></i>
                            This location will unlock at the scheduled time.
                        </div>
                    </div>
                </div>

                <div class="location-card" id="location5">
                    <div class="card-content">
                        <div class="icon-circle">
                            <i class="fas fa-home"></i>
                        </div>
                        <h2>Back Home</h2>
                        <div class="time">
                            <i class="far fa-clock"></i>
                            21:00
                        </div>
                        <div class="location-content">
                            Returning home with new memories and stories to
                            tell. A perfect end to a day of exploration and
                            connection. Time to rest and dream about future
                            adventures.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Main Countdown Timer
            function updateMainCountdown() {
                const mainTarget = moment("2025-02-22 14:00:00");
                const mainCountdownElement =
                    document.getElementById("mainCountdown");

                function updateMain() {
                    const now = moment();
                    const duration = moment.duration(mainTarget.diff(now));

                    if (duration.asMilliseconds() <= 0) {
                        mainCountdownElement.innerHTML = `Our journey begins!`;
                        return;
                    }

                    const days = Math.floor(duration.asDays());
                    const hours = duration.hours();
                    const minutes = duration.minutes();
                    const seconds = duration.seconds();

                    mainCountdownElement.innerHTML = `
                        <span>${days}<span class="main-countdown-unit">days</span></span>
                        <span>${hours}<span class="main-countdown-unit">hours</span></span>
                        <span>${minutes}<span class="main-countdown-unit">mins</span></span>
                        <span>${seconds}<span class="main-countdown-unit">secs</span></span>
                    `;
                }

                updateMain();
                setInterval(updateMain, 1000);
            }

            // Location Countdowns
            function updateCountdowns() {
                const targetDate = moment("2025-02-22 15:00:00");
                const locations = [2, 3, 4];

                locations.forEach((locationNum) => {
                    const countdown = document.getElementById(
                        `countdown${locationNum}`,
                    );

                    function update() {
                        const now = moment();
                        const duration = moment.duration(targetDate.diff(now));

                        if (duration.asMilliseconds() <= 0) {
                            countdown.innerHTML = `<i class="fas fa-check"></i> Unlocked!`;
                            return;
                        }

                        const days = Math.floor(duration.asDays());
                        const hours = duration.hours();
                        const minutes = duration.minutes();
                        const seconds = duration.seconds();

                        countdown.innerHTML = `
                            <i class="fas fa-hourglass-half"></i>
                            ${days}d ${hours}h ${minutes}m ${seconds}s
                        `;
                    }

                    update();
                    setInterval(update, 1000);
                });
            }

            // Initialize both countdowns
            updateMainCountdown();
            updateCountdowns();

            // Function to add Spotify playlist
            function addSpotifyPlaylist(playlistUrl) {
                if (!playlistUrl) return;

                const playlistId = playlistUrl.split("/").pop();
                const embedUrl = `https://open.spotify.com/embed/playlist/${playlistId}`;

                const spotifyEmbed = document.querySelector(".spotify-embed");
                spotifyEmbed.innerHTML = `
                    <iframe src="${embedUrl}"
                        width="100%"
                        height="380"
                        frameborder="0"
                        allowtransparency="true"
                        allow="encrypted-media">
                    </iframe>
                `;
            }
        </script>
    </body>
</html>
